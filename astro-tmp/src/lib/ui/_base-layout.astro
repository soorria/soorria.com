---
import NoJsStyles from '~/styles/NoJsStyles.astro'
import '~/styles/global.css'

import PlausibleScript from '../analytics/PlausibleScript.astro'
import DevHelpers from '../dev/DevHelpers.astro'
import { ClientRouter } from 'astro:transitions'
---

<!doctype html>
<html lang="en" transition:animate="none" transition:persist transition:name="root">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link
      rel="preload"
      href="/fonts/poppins-latin-700.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/poppins-latin-400.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/jetbrains-mono-latin-400.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <PlausibleScript />

    <ClientRouter fallback="none" />
  </head>
  <body
    class="bg-drac-base text-drac-content relative flex h-full min-h-screen flex-col overflow-y-auto"
  >
    <slot />

    <NoJsStyles />
    {import.meta.env.DEV && <DevHelpers />}
  </body>
</html>
